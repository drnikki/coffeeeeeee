<h1>Listing orders</h1>

<script type="text/javascript">
  $(function() {
    // Barista is the app name
    window.router = new Barista.Routers.OrdersRouter({orders: <%= @orders.to_json.html_safe -%>});
    Backbone.history.start();
  });
</script>



<table>
  <tr>
    <th>Priority</th>
    <th>Item</th>
    <th>Placed</th>
    <th>Fulfilled</th>
    <th>Person</th>
    <th>Milk</th>
    <th>Special Instructions</th>
    <th></th>
  </tr>

<% @orders.each do |order| %>
  <tr>
    <td><%= order.priority %></td>
    <td><%= order.item %></td>
    <td><%= order.placed %></td>
    <td><%= order.fulfilled %></td>
    <td><%= order.person_id %></td>
    <td><%= order.milk %></td>
    <td><%= order.special_instructions %></td>
    <td><%= link_to 'Show', order %></td>
    <td><%= link_to 'Edit', edit_order_path(order) %></td>
    <td><%= link_to 'Complete', complete_order_path(order) %></td>
    <td><%= link_to 'Destroy', order, method: :delete, data: { confirm: 'Are you sure?' } %></td>
  </tr>
<% end %>
</table>

<br />

<%= link_to 'New Order', new_order_path %>
